[debug] [2026-01-04T14:17:39.802Z] ----------------------------------------------------------------------
[debug] [2026-01-04T14:17:39.806Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\LENOVO\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2026-01-04T14:17:39.807Z] CLI Version:   15.1.0
[debug] [2026-01-04T14:17:39.807Z] Platform:      win32
[debug] [2026-01-04T14:17:39.807Z] Node Version:  v24.11.1
[debug] [2026-01-04T14:17:39.807Z] Time:          Sun Jan 04 2026 19:47:39 GMT+0530 (India Standard Time)
[debug] [2026-01-04T14:17:39.807Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-01-04T14:17:42.452Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-01-04T14:17:42.452Z] > authorizing via signed-in user (frpboy12@gmail.com)
[debug] [2026-01-04T14:17:42.452Z] [iam] checking project sahakar-ppo for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-01-04T14:17:42.454Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:42.454Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:42.456Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions [none]
[debug] [2026-01-04T14:17:42.456Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions x-goog-quota-user=projects/sahakar-ppo
[debug] [2026-01-04T14:17:42.456Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-01-04T14:17:44.097Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions 200
[debug] [2026-01-04T14:17:44.098Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-01-04T14:17:44.098Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:44.099Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:44.099Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/sahakar-ppo/serviceAccounts/sahakar-ppo@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-01-04T14:17:44.099Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/sahakar-ppo/serviceAccounts/sahakar-ppo@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-01-04T14:17:45.926Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/sahakar-ppo/serviceAccounts/sahakar-ppo@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2026-01-04T14:17:45.926Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/sahakar-ppo/serviceAccounts/sahakar-ppo@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'sahakar-ppo'...
[info] 
[info] i  deploying functions 
[debug] [2026-01-04T14:17:45.931Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:45.932Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:45.932Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo [none]
[debug] [2026-01-04T14:17:46.297Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo 200
[debug] [2026-01-04T14:17:46.297Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo {"projectNumber":"807051458110","projectId":"sahakar-ppo","lifecycleState":"ACTIVE","name":"Sahakar - PPO","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-03T14:39:53.827479Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-01-04T14:17:46.302Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:46.302Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:46.302Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/sahakar-ppo/adminSdkConfig [none]
[debug] [2026-01-04T14:17:47.425Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/sahakar-ppo/adminSdkConfig 200
[debug] [2026-01-04T14:17:47.426Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/sahakar-ppo/adminSdkConfig {"projectId":"sahakar-ppo","storageBucket":"sahakar-ppo.firebasestorage.app"}
[debug] [2026-01-04T14:17:47.426Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:47.426Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:47.427Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/sahakar-ppo/configs [none]
[debug] [2026-01-04T14:17:47.933Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/sahakar-ppo/configs 200
[debug] [2026-01-04T14:17:47.933Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/sahakar-ppo/configs {}
[debug] [2026-01-04T14:17:47.935Z] Validating nodejs source
[debug] [2026-01-04T14:17:51.320Z] > [functions] package.json contents: {
  "name": "api",
  "version": "0.0.1",
  "main": "dist/apps/api/src/main.js",
  "engines": {
    "node": "^20 || ^22 || ^24"
  },
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json",
    "seed:users": "node scripts/seed-users.js"
  },
  "dependencies": {
    "@nestjs/common": "^11.1.11",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.1.11",
    "@nestjs/passport": "^11.0.5",
    "@nestjs/platform-express": "^11.1.11",
    "@sahakar/database": "file:sahakar-database-0.0.1.tgz",
    "@types/cors": "^2.8.19",
    "@types/passport-jwt": "^4.0.1",
    "cors": "^2.8.5",
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.2",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.2",
    "xlsx": "https://cdn.sheetjs.com/xlsx-0.20.3/xlsx-0.20.3.tgz"
  },
  "devDependencies": {
    "@nestjs/cli": "^11.0.14",
    "@nestjs/schematics": "^11.0.9",
    "@nestjs/testing": "^11.1.11",
    "@types/express": "^5.0.6",
    "@types/jest": "^30.0.0",
    "@types/multer": "^2.0.0",
    "@types/node": "^25.0.3",
    "@types/supertest": "^6.0.3",
    "@typescript-eslint/eslint-plugin": "^8.51.0",
    "@typescript-eslint/parser": "^8.51.0",
    "eslint": "^9.39.2",
    "eslint-config-prettier": "^10.1.8",
    "eslint-plugin-prettier": "^5.5.4",
    "jest": "^30.2.0",
    "prettier": "^3.7.4",
    "source-map-support": "^0.5.21",
    "supertest": "^7.1.4",
    "ts-jest": "^29.4.6",
    "ts-loader": "^9.5.4",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.9.3",
    "webpack": "^5.104.1",
    "webpack-cli": "^6.0.1",
    "webpack-node-externals": "^3.0.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
[debug] [2026-01-04T14:17:51.320Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-01-04T14:17:51.323Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-01-04T14:17:51.378Z] Found firebase-functions binary at 'D:\K4NN4N\Sahakar-PPO\node_modules\.bin\firebase-functions'
[info] Serving at port 8922

[debug] [2026-01-04T14:17:53.949Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":512,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["asia-south1"],"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2026-01-04T14:17:58.048Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-01-04T14:17:58.048Z] > authorizing via signed-in user (frpboy12@gmail.com)
[debug] [2026-01-04T14:17:58.049Z] [iam] checking project sahakar-ppo for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2026-01-04T14:17:58.049Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:58.049Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:58.049Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions [none]
[debug] [2026-01-04T14:17:58.049Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions x-goog-quota-user=projects/sahakar-ppo
[debug] [2026-01-04T14:17:58.050Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2026-01-04T14:17:59.597Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions 200
[debug] [2026-01-04T14:17:59.598Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/sahakar-ppo:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2026-01-04T14:17:59.598Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:59.598Z] Checked if tokens are valid: true, expires at: 1767539335313
[debug] [2026-01-04T14:17:59.654Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/sahakar-ppo/instances pageSize=100&pageToken=
[debug] [2026-01-04T14:18:01.439Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/sahakar-ppo/instances 200
[debug] [2026-01-04T14:18:01.439Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/sahakar-ppo/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing apps/api directory for uploading... 
